/* ===== title.css ===== */

/* Load your custom font */
@font-face {
  font-family: 'OrangeFogue';
  src: url('../fonts/OrangeFogueDemoRegular-gwj7Y.ttf') format('truetype');
  font-display: swap;
}

:root {
  --w: 1280;
  --h: 720;
}

/* Fullscreen title overlay */
#title-screen {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  z-index: 1000;
  background:
    url('../img/title.png') center / cover no-repeat,
    #000; /* fallback */
}

#title-screen .title-inner {
  width: min(1280px, 95vw);
  aspect-ratio: 16 / 9;
  display: grid;
  place-items: center;
  text-align: center;
  padding: 3vw;
  position: relative;
}

.title-copy {
  font-family: 'OrangeFogue', system-ui, sans-serif;
  color: #5C4033;
  /* start hidden; step rules will reveal */
  visibility: hidden;
  opacity: 0;

  /* 2px outline fallback */
  text-shadow:
    -2px 0 rgba(0,0,0,.5),  2px 0 rgba(0,0,0,.5),
     0 -2px rgba(0,0,0,.5), 0  2px rgba(0,0,0,.5),
    -2px -2px rgba(0,0,0,.5), 2px -2px rgba(0,0,0,.5),
    -2px  2px rgba(0,0,0,.5), 2px  2px rgba(0,0,0,.5);
}
@supports (-webkit-text-stroke: 1px black) {
  .title-copy { -webkit-text-stroke: 2px rgba(0,0,0,.5); text-shadow: none; }
}

#title-screen .title-text {
  width: 80%;
  margin: 0 auto;
  line-height: 1.1;
  font-size: clamp(32px, 6.5vw, 96px);
  overflow-wrap: anywhere;
}

#title-screen .title-cta {
  /* legacy bottom style kept, but two-step overrides it */
  position: absolute;
  bottom: max(2vh, 16px);
  left: 0; right: 0;
  text-align: center;
  width: 80%;
  margin: 0 auto;
  line-height: 1.1;
  font-size: clamp(16px, 6.5vw, 45px);
  overflow-wrap: anywhere;
}

#title-screen.two-step .title-cta {
  position: static;
  bottom: auto; left: auto; right: auto;
  align-self: center; justify-self: center;
  font-size: clamp(32px, 6.5vw, 96px);
   overflow-wrap: anywhere;
}

/* STEP 1: show ONLY the first line */
#title-screen.two-step.step-1 .title-text {
  visibility: visible;
  animation: fadeIn 800ms ease-out forwards 100ms;
}
#title-screen.two-step.step-1 .title-cta { display: none; }

/* STEP 2: show ONLY the second line */
#title-screen.two-step.step-2 .title-text { display: none; }
#title-screen.two-step.step-2 .title-cta  {
  display: block;
  visibility: visible;
  animation: fadeIn 800ms ease-out forwards 100ms;
}

/* Fade out whole title */
#title-screen.hide { animation: fadeOut 450ms ease forwards; pointer-events: none; }

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(4px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to   { opacity: 0; }
}

@keyframes pulse {
  0%,100% { opacity: .55; }
  50%     { opacity: 1; }
}

/* Full-viewport stage; crop overflow (like background-size: cover) */
html, body { margin: 0; height: 100%; background: #000; }
#root {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  overflow: hidden; /* important: allow cropping like 'cover' */
}
#scene {
  display: block;
  background: #000;
}
